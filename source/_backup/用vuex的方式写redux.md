title: 用vuex的方式写redux
date: 2019-03-19 19:36:03
tags:
---

> 曾经有人对我说，学 `React` 只要懂生命周期和 `jsx`，剩下的就是 `js`，我信了，后来，我哭了

之前一直扎在 `Vue` 的坑里，对于 `React` 了解并不算很多，最近一直用 `React` 开发，感叹 `React` 代码一股浓浓的学院风之外，也发现很多痛点

`Flux` 可以说是 web 应用状态管理的鼻祖了，为前端带来了全局状态管理的大利器，而且遵循更加彻底的单向数据流原则。

`Redux` 又把这一思想推向顶峰，`Vuex` 呢，又在借鉴 `Redux` 的基础上为 `Vue` 带来了这一切。

既然 `Vuex` 是 “抄” 来的，为何还要像 `Vuex` 一样写 `Redux` 呢？

先来看下 Vuex 与 Redux 的对比

## Vuex 与 Redux

|                | Vuex                  | Redux                     |
| ------         | ------                | ------                    |
| store 代码      | 中等文本                | 稍微长一点的文本 |
| 注入方式         | 短文本                 | 中等文本 |
| 获取 store      | 各个组件内直接调用 `this.$store`              | 父组件可以直接获取整颗 store，子组件如果想要获取<br/>1、connect 方法连接组件<br/>2、mapStateToProps<br/>3、 |
| 分发 action     | 短文本                  | 中等文本 |

1、store 代码

2、注入方式

3、获取 state 方式

4、分发 actions 方式

## 想要达到的目的

* 更简洁的 store 代码

* 模块化

* 无痛注入

* 子组件低成本获取整颗 store

## 如何实现

按照上面所列的目的，我们来一步步实现

#### 动手之前

动手之前，

#### Module 的实现

叉树


#### 注入